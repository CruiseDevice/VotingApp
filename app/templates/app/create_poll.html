{% extends "base.html" %}
{% block title %}
    create poll
{% endblock title %}
{% block content %}
    <form class="form-horizontal" methods="POST" action="">
        {% csrf_token %}
        <div class="row spacer">
            <div class="col-2">
                <label>{{questionform.question_text.label}}</label>
            </div>
            <div class="col-4">
                <div class="input-group">
                    {{questionform.question_text}}
                </div>
            </div>
        </div>
        <br>
        {{formset.management_form}}
        {% for form in formset %}
            <div class="row form-row spacer">
                <div class="col-2">
                    <label>{{form.choice_text.label}}</label>
                </div>
                <div class="col-4">
                    <div class="input-group">
                        {{form.choice_text}}
                        <div class="input-group-append">
                            <button class="btn btn-success add-form-row">+</button>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
        <br>
        <div class="row spacer">
            <div class="col-4 offset-2">
                <button type="submit" class="btn btn-block btn-primary">Create</button>
            </div>
        </div>
    </form>
{% endblock content %}
<script type="text/javascript">
    $(document).on('click', '.add-form-row', function(e){
        e.preventDefault();
        cloneMore('.form-row:last', 'form');
        return false;
    });
    $(document).on('click', '.remove-form-row', function(e){
        e.preventDefault();
        deleteForm('form', $(this));
        return false;
    });
</script>